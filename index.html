<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kokosima AI</title>

    <meta property="og:type" content="article">
    <meta property="og:title" id="og-title" content="Kokosima AI">
    <meta property="og:description" id="og-desc" content="Temukan inspirasi prompt AI cinematic di Kokosima.">
    <meta property="og:image" id="og-img" content="https://kokosimareels.pages.dev/images/default-preview.jpg">
    <meta name="twitter:image" id="tw-img" content="https://kokosimareels.pages.dev/images/default-preview.jpg">

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="top-bar">
        <span class="logo">ðŸ§  kokosima</span>
    </header>

    <main class="feed">
        <section class="item" id="ai-001">
            <div class="media-container">
                <img src="images/ai-001.jpg" alt="" loading="lazy">
            </div>
            <div class="content-container">
                <div class="info-text">
                    <h3 data-id="ai-001"></h3>
                    <p class="prompt-preview" data-id="ai-001"></p>
                </div>
                <div class="actions">
                    <a class="btn btn-primary btn-video" data-id="ai-001" href="#" target="_blank">â–¶ Video</a>
                    <a class="btn btn-outline" href="prompt.html?id=ai-001">PROMPT</a>
                    <button class="btn btn-share" onclick="sharePrompt('ai-001')">ðŸ”— Share</button>
                </div>
            </div>
        </section>

        <section class="item" id="ai-002">
            <div class="media-container">
                <img src="images/ai-002.jpg" alt="" loading="lazy">
            </div>
            <div class="content-container">
                <div class="info-text">
                    <h3 data-id="ai-002"></h3>
                    <p class="prompt-preview" data-id="ai-002"></p>
                </div>
                <div class="actions">
                    <a class="btn btn-primary btn-video" data-id="ai-002" href="#" target="_blank">â–¶ Video</a>
                    <a class="btn btn-outline" href="prompt.html?id=ai-002">PROMPT</a>
                    <button class="btn btn-share" onclick="sharePrompt('ai-002')">ðŸ”— Share</button>
                </div>
            </div>
        </section>

        <section class="item" id="ai-003">
            <div class="media-container">
                <img src="images/ai-003.jpg" alt="" loading="lazy">
            </div>
            <div class="content-container">
                <div class="info-text">
                    <h3 data-id="ai-003"></h3>
                    <p class="prompt-preview" data-id="ai-003"></p>
                </div>
                <div class="actions">
                    <a class="btn btn-primary btn-video" data-id="ai-003" href="#" target="_blank">â–¶ Video</a>
                    <a class="btn btn-outline" href="prompt.html?id=ai-003">PROMPT</a>
                    <button class="btn btn-share" onclick="sharePrompt('ai-003')">ðŸ”— Share</button>
                </div>
            </div>
        </section>

        <section class="item" id="ai-004">
            <div class="media-container">
                <img src="images/ai-004.jpg" alt="" loading="lazy">
            </div>
            <div class="content-container">
                <div class="info-text">
                    <h3 data-id="ai-004"></h3>
                    <p class="prompt-preview" data-id="ai-004"></p>
                </div>
                <div class="actions">
                    <a class="btn btn-primary btn-video" data-id="ai-004" href="#" target="_blank">â–¶ Video</a>
                    <a class="btn btn-outline" href="prompt.html?id=ai-004">PROMPT</a>
                    <button class="btn btn-share" onclick="sharePrompt('ai-004')">ðŸ”— Share</button>
                </div>
            </div>
        </section>
    </main>

    <script src="data.js"></script>
    <script>
        // 1. OTOMATISASI FEED (Ambil data dari data.js)
        document.querySelectorAll('[data-id]').forEach(el => {
            const id = el.getAttribute('data-id');
            const data = PROMPT_DATABASE[id];
            
            if (data) {
                if (el.tagName === "H3") {
                    el.textContent = data.title;
                } 
                else if (el.classList.contains("prompt-preview")) {
                    const words = data.text.split(/\s+/);
                    el.textContent = words.slice(0, 12).join(" ") + "...";
                }
                else if (el.classList.contains("btn-video")) {
                    el.href = data.videoUrl;
                    if(!data.videoUrl || data.videoUrl === "" || data.videoUrl === "#") {
                        el.style.display = 'none';
                    }
                }
            }
        });

        // 2. FUNGSI SHARE SMART (Diperbaiki agar Link tidak Broken)
        function sharePrompt(id) {
            const data = PROMPT_DATABASE[id];
            
            // Mendeteksi path folder otomatis agar link tetap benar meski di sub-folder
            const currentPath = window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/') + 1);
            const shareUrl = window.location.origin + currentPath + 'prompt.html?id=' + id;
            
            const shareText = `Cek prompt AI "${data.title}" di Kokosima AI!`;

            if (navigator.share) {
                navigator.share({
                    title: 'Kokosima AI - ' + data.title,
                    text: shareText,
                    url: shareUrl,
                }).catch(err => console.log('Share canceled'));
            } else {
                // Fallback Facebook Share
                const fbUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`;
                window.open(fbUrl, '_blank', 'width=600,height=400');
            }
        }
    </script>
</body>
</html>
